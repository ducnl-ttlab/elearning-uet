import { TableName, Role } from '../constant';
import { MigrationInterface, QueryRunner } from 'typeorm';
import * as bcrypt from 'bcryptjs';
import { generateAvatar } from '../../src/common/ultils';

export class User1667010084382 implements MigrationInterface {
  public async up(queryRunner: QueryRunner): Promise<void> {
    const items = [
      {
        id: '123456abc',
        username: 'ducluong',
        email: 'ducnl@tokyotechlab.com',
        password: '12345678',
        phone: '012345678',
        verified: true,
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        role: Role.guest,
      },
      {
        id: '123456abe',
        username: 'binhmup',
        email: 'binhltl@tokyotechlab.com',
        password: '12345678',
        phone: '012345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.admin,
      },
      {
        id: '123456abf',
        username: 'hieumup',
        email: 'hieudt@tokyotechlab.com',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.student,
      },
      {
        id: '123456xsabf',
        username: 'hanhnd',
        email: 'hanhnd@tokyotechlab.com',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.pending,
      },
      {
        id: '123456xsabxf',
        username: 'congdv',
        email: 'congdv@tokyotechlab.com',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.student,
      },
      {
        id: '123456xsabxfxa',
        username: 'vupa',
        email: 'vupa@tokyotechlab.com',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.student,
      },
      {
        id: '19020201',
        username: 'Nguyễn Hữu An',
        email: '19020291@vnu.edu.vn',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.student,
      },
      {
        id: '19020211',
        username: 'Cao Đức Anh',
        email: '19020211@vnu.edu.vn',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.instructor,
      },
      {
        id: '19020075',
        username: 'Nguyễn Đình Tuấn Anh',
        email: '19020075@vnu.edu.vn',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.pending,
      },
      {
        id: '19020206',
        username: 'Nguyễn Văn Anh',
        email: '19020206@vnu.edu.vn',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.guest,
      },
      {
        id: '19020152',
        username: 'Đỗ Thị Hồng Ánh',
        email: '19020152@vnu.edu.vn',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.student,
      },
      {
        id: '19020221',
        username: 'Nguyễn Lương Bằng',
        email: '19020221@vnu.edu.vn',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.student,
      },
      {
        id: '19020226',
        username: 'Lê Trần Lâm Bình',
        email: '19020226@vnu.edu.vn',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.instructor,
      },
      {
        id: '19020231',
        username: 'Vương Văn Chính',
        email: '19020231@vnu.edu.vn',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.student,
      },

      {
        id: '19020261',
        username: 'Nguyễn Thị Dung',
        email: '19020261@vnu.edu.vn',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.student,
      },
      {
        id: '19020153',
        username: 'Nông Lương Đức',
        email: '19020153@vnu.edu.vn',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.student,
      },
      {
        id: '19020276',
        username: 'Khuất Văn Hải',
        email: '19020276@vnu.edu.vn',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.student,
      },
      {
        id: '19020281',
        username: 'Trần Thị Hiền',
        email: '19020281@vnu.edu.vn',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.instructor,
      },
      {
        id: '19020286',
        username: 'Đặng Trần Hiếu',
        email: '19020286@vnu.edu.vn',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.student,
      },
      {
        id: '19020296',
        username: 'Nguyễn Việt Hòa',
        email: '19020296@vnu.edu.vn',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.student,
      },
      {
        id: '19020151',
        username: 'Trịnh Hoàng',
        email: '19020151@vnu.edu.vn',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.student,
      },
      {
        id: '19020326',
        username: ' Dương Thái Huy',
        email: '19020326@vnu.edu.vn',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.student,
      },
      {
        id: '19020321',
        username: 'Trần Quang Huy',
        email: '19020321@vnu.edu.vn',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.student,
      },
      {
        id: '19020331',
        username: 'Nguyễn Thế Khải',
        email: '19020331@vnu.edu.vn',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.student,
      },
      {
        id: '19020341',
        username: 'Lê Văn Kiên',
        email: '19020341@vnu.edu.vn',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.student,
      },
      {
        id: '19020346',
        username: 'Lê Mạnh Linh',
        email: '19020346@vnu.edu.vn',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.student,
      },
      {
        id: '19020080',
        username: 'Trần Đình Long',
        email: '19020080@vnu.edu.vn',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.student,
      },
      {
        id: '19020356',
        username: 'Phạm Thị Lụa',
        email: '19020356@vnu.edu.vn',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.student,
      },
      {
        id: '19020166',
        username: 'Hoàng Văn Lương',
        email: '19020166@vnu.edu.vn',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.student,
      },
      {
        id: '19020361',
        username: 'Nguyễn Hữu Mạnh',
        email: '19020361@vnu.edu.vn',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.student,
      },
      {
        id: '19020371',
        username: 'Nguyễn Đăng Minh',
        email: '19020371@vnu.edu.vn',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.student,
      },
      {
        id: '19020411',
        username: 'Nguyễn Minh Quyết',
        email: '19020411@vnu.edu.vn',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.student,
      },
      {
        id: '19020416',
        username: 'Phạm Văn Sang',
        email: '19020416@vnu.edu.vn',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.student,
      },
      {
        id: '19020421',
        username: 'Nguyễn Xuân Sơn',
        email: '19020421@vnu.edu.vn',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.student,
      },
      {
        id: '19020022',
        username: 'Cao Phan Thái',
        email: '19020022@vnu.edu.vn',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.student,
      },
      {
        id: '19020085',
        username: 'Vũ Đức Thành',
        email: '19020085@vnu.edu.vn',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.student,
      },
      {
        id: '19020476',
        username: 'Nguyễn Đào Quang Tuấn',
        email: '19020476@vnu.edu.vn',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.instructor,
      },
      {
        id: '19020171',
        username: 'Vi Quốc Thiện',
        email: '19020171@vnu.edu.vn',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.instructor,
      },
      {
        id: '19020451',
        username: 'Bùi Anh Thư',
        email: '19020451@vnu.edu.vn',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.instructor,
      },
      {
        id: '19020456',
        username: 'Nguyễn Bá Tiên',
        email: '19020456@vnu.edu.vn',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.instructor,
      },
      {
        id: '19020471',
        username: 'Phan Đức Trung',
        email: '19020471@vnu.edu.vn',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.instructor,
      },
      {
        id: '1902046p6',
        username: 'Vũ Đức Trung',
        email: '19020466@vnu.edu.vn',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.instructor,
      },
      {
        id: '190204p6',
        username: 'Hieu mup',
        email: 'dthieu13701@gmail.com',
        phone: '012345678',
        password: '12345678',
        address: 'Khu 2 Hoàng Cương, Thanh Ba, Phú Thọ',
        verified: true,
        role: Role.student,
      },
    ];
    let itemDatas = await Promise.all(
      items.map(async (item, index) => {
        const hashedPassword = await bcrypt.hash(item.password, 8);
        return {
          ...item,
          avatar: generateAvatar(item.id, index),
          password: hashedPassword,
        };
      }),
    );

    await queryRunner.manager.getRepository(TableName.user).insert(itemDatas);
  }

  public async down(queryRunner: QueryRunner): Promise<void> {}
}
